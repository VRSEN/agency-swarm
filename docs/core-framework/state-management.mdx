---
title: "State Management"
description: "Learn how Agency Swarm manages state across agents and sessions."
icon: "database"
---

Agency Swarm conveniently manages the state of your agents and threads, simplifying the agent creation and management process.

<Tabs defaultValue="v1.x (Latest)">
<Tab title="v1.x (Latest)">

<Warning>
v1.x is currently in **beta preview**. Install with: `pip install -U "agency-swarm>=1.0.0-beta"`
</Warning>

## Agent State Management

Starting with the new release of [Agents SDK](https://openai.github.io/openai-agents-python), agents (previously assistants) are now stateless, 
meaning that there is no longer a need to save and pass agent settings to maintain chat persistence.    
The only parameter that needs to be maintained is the chat history, which, within the agency-swarm framework, is called a thread.

## Thread State Management

Since managing conversation state is now a responsibility of the developer in the Agents SDK, the Agency Swarm framework has introduced a thread management system to handle, automate, and simplify history management. All agent outputs are processed and stored locally to allow for seamless agency usage within a single session. To maintain persistence across multiple sessions, the framework also provides convenient callback methods that require minimal input to set up.

<CardGroup cols={2}>
  <Card title="Automatic Context Management" icon="arrows-rotate">
    Handles agents outputs and automatically converts them into Agents SDK - compatible chat history
  </Card>
  <Card title="Persistent Conversations" icon="messages">
    Maintains ongoing conversations without manual history management.
  </Card>
</CardGroup>

</Tab>
<Tab title="v0.x (Production)">

<Info>
v0.x is the **current production version**. Install with: `pip install "agency-swarm<1.0.0"`
</Info>

## Agent State Management

In OpenAI Assistants API, all agents need to be updated before they can be used. Agency Swarm manages this by maintaining a local `settings.json` file, and the comparing local settings with the ones stored on OpenAI's servers. If there are any differences, the Assistants are updated on OpenAI's servers. This ensures that the agents are only created once, and are only updated when needed.

<img src="/images/state-management.png" alt="State Management" />

## Thread State Management

Additionally, OpenAI's Assistants API manages the conversation context through threads. A thread represents a persistent conversation between an assistant and a user, automatically handling the storage and truncation of messages to fit within the model's context window. This approach offloads the complexity of conversation state management to OpenAI, ensuring efficient and seamless context handling.

<CardGroup cols={2}>
  <Card title="Persistent Conversations" icon="messages">
    Maintains ongoing conversations without manual history management.
  </Card>
  <Card title="Automatic Context Management" icon="scissors">
    Handles message storage and truncation within token limits.
  </Card>
</CardGroup>

</Tab>
</Tabs>

## Next Steps

- [Read all available agent parameters](/core-framework/agents/overview)
- [Learn how to manage your agents on a remote server](/additional-features/deployment-to-production)
- [Learn how to implement thread saving and loading to maintain chat persistence between sessions](/additional-features/deployment-to-production)
