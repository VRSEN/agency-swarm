---
title: "Multimodal Tool Outputs"
description: "Return images and files from your tools."
icon: "image"
---

## What This Feature Unlocks

Returning images and files from the tools enables real agentic feedback loops on completely new modalities.

For example, instead of dumping all the data into an agent, and hoping for the best, you can export it in CSV, generate a visualization, and allow the agent to provide insights based on that visualization. Just like a real data analyst.

This saves your context window and unlocks autonomous agentic workflows for a lot of new use cases:

## New Use Cases

- **Software Development**: Agents can check websites autonomously and iterate until all elements are properly positioned, enabling them to tackle complex projects without manual screenshot feedback.

- **Brand Asset Generation**: Provide brand guidelines, logos, and messaging, then let agents iterate on image and video generation (including Sora 2) until outputs fully match your expectations.

- **Screen-Aware Assistance**: Build agents that help visually impaired individuals navigate websites or create customer support agents that see the user's current webpage for better assistance.

- **Data Analytics**: Export large datasets as CSV, generate visual graphs, and let agents provide insights based on visualizations without overloading the context window.


## Output Formats

### Images (PNG, JPG)

To return an image from a tool, you can either:

    1. Use the `ToolOutputImage` class.
    2. Return a dict with the `type` set to `"image"` and either `image_url` (URL or data URL) or `file_id`.
    3. Use our convenience `tool_output_image_from_path` function.

```python
from agency_swarm import ToolOutputImage, ToolOutputImageDict, function_tool
from agency_swarm.tools.utils import tool_output_image_from_path

@function_tool
def fetch_gallery_image() -> ToolOutputImage:
    """Return a static gallery image."""
    return ToolOutputImage(
        image_url="https://upload.wikimedia.org/wikipedia/commons/0/0c/GoldenGateBridge-001.jpg",
        detail="auto",
    )

@function_tool
def fetch_gallery_image_dict() -> ToolOutputImageDict:
    """Dict variant of the same image output."""
    return {
        "type": "image",
        "image_url": "https://upload.wikimedia.org/wikipedia/commons/0/0c/GoldenGateBridge-001.jpg",
        "detail": "auto",
    }

@function_tool
def fetch_local_image() -> ToolOutputImage:
    """Load an image from disk using the helper."""
    return tool_output_image_from_path("examples/data/landscape_scene.png", detail="auto")
```

### Files (CSV, PDF, ZIP)

Similarly to return a file from a tool:

```python
from agency_swarm import ToolOutputFileContent, function_tool
from agency_swarm.tools.utils import tool_output_file_from_path, tool_output_file_from_url

@function_tool
def fetch_reference_report() -> ToolOutputFileContent:
    """Return a reference PDF hosted remotely."""
    return ToolOutputFileContent(
        file_url="https://raw.githubusercontent.com/VRSEN/agency-swarm/main/examples/data/sample_report.pdf"
    )


@function_tool
def fetch_local_report() -> ToolOutputFileContent:
    """Return a report stored on disk."""
    return tool_output_file_from_path("examples/data/sample_report.pdf")


@function_tool
def fetch_remote_archive() -> ToolOutputFileContent:
    """Return a remote ZIP using the helper."""
    return tool_output_file_from_url("https://example.com/archive.zip")
```

<Note>
When you choose `file_data`, include `filename` to hint a download name; URL-based outputs rely on the remote server metadata instead.
</Note>

### Combining Multiple Outputs

Return multiple outputs by yielding a list of items above:

```python
from agency_swarm import ToolOutputFileContent, ToolOutputImage, ToolOutputText

@function_tool
def prepare_showcase() -> list:
    """Return rich media and a short description."""
    return [
        ToolOutputImage(image_url="https://example.com/teaser-a.png"),
        ToolOutputImage(image_url="https://example.com/teaser-b.png"),
        ToolOutputText(text="Gallery updated: Teaser A and Teaser B now live."),
        ToolOutputFileContent(file_id="file-report-123"),
    ]
```

## Complete Example (replace with real example from youtube video)

Here's a complete example using `BaseTool`:

```python
from agency_swarm import Agent, BaseTool, ToolOutputImage
from pydantic import Field
import base64
import matplotlib.pyplot as plt
import io

class GenerateChartTool(BaseTool):
    """Generate a bar chart from data."""
    
    data: list[float] = Field(..., description="Data points for the chart")
    labels: list[str] = Field(..., description="Labels for each data point")
    
    def run(self) -> ToolOutputImage:
        """Generate and return the chart as a base64-encoded image."""
        # Create the chart
        fig, ax = plt.subplots()
        ax.bar(self.labels, self.data)
        
        # Convert to base64
        buf = io.BytesIO()
        plt.savefig(buf, format='png')
        buf.seek(0)
        image_base64 = base64.b64encode(buf.read()).decode('utf-8')
        plt.close()
        
        # Return in multimodal format
        return ToolOutputImage(image_url=f"data:image/png;base64,{image_base64}")

# Create an agent with the tool
agent = Agent(
    name="DataViz",
    instructions="You generate charts and visualizations for data analysis.",
    tools=[GenerateChartTool]
)
```

<Note>
`function_tool` decorators and `BaseTool` classes both support multimodal outputs in the exact same way.
</Note>

## Tips & Best Practices

- Base64-encoded images can be large. Use file references for large content.
- [TODO: Artemii add more tips here]

## Real Examples

- [Inlcude repo fromt youtubve video later]
- [`examples/multimodal_outputs.py`](https://github.com/VRSEN/agency-swarm/blob/main/examples/multimodal_outputs.py)
