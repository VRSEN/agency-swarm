---
title: "From Scratch"
description: "Quick start guide to building an Agency from scratch."
icon: "code"
---

<Note>
Use this guide when you need to build everything manually. Otherwise, start from the [Starter Template](/welcome/getting-started/starter-template).
</Note>

<Steps>
  <Step title="Set Your OpenAI Key">
    Begin by setting your OpenAI API key in `.env`. It is loaded automatically on agency initialization.

    ```
    OPENAI_API_KEY=sk-...
    ```
  </Step>

  <Step title="Create Project Structure">
    Generate an agent folder with the CLI:

    <Accordion title="Create the folder with the CLI" defaultOpen={false}>
      ```bash
      agency-swarm create-agent-template "Worker"
      ```
    </Accordion>

    **Agent Folder Structure:**

    ```
    /your-agency-path/
    └── agent_name/                   # Directory for the specific agent
        ├── files/                    # Directory for files that will be uploaded to openai
        ├── schemas/                  # Directory for OpenAPI schemas to be converted into tools
        ├── tools/                    # Directory for tools to be imported by default.
        ├── agent_name.py             # The agent definition module
        ├── __init__.py               # Initializes the agent folder as a Python package
        └── instructions.md or .txt   # Instruction document for the agent
    ```

    **Agency Folder Structure:**

    ```
    your_agency/
    ├── ceo/
    ├── worker/
    ├── agency.py
    ├── agency_manifesto.md
    ├── requirements.txt
    └── ...
    ```
  </Step>

  <Step title="Create Tools">
    In 1.x, both patterns are supported. We generally recommend `BaseTool` classes, and this step shows both.

    **`worker/tools/search_database.py`:**

    ```python
    from agency_swarm import function_tool

    @function_tool
    def search_database(query: str) -> str:
        return f"Results for: {query}"
    ```

    <Accordion title="Preferred: BaseTool class version" defaultOpen={false}>
      ```python
      from agency_swarm import BaseTool
      from pydantic import Field

      class SearchDatabase(BaseTool):
          query: str = Field(..., description="Search query to run")

          async def run(self) -> str:
              return f"Results for: {self.query}"
      ```
    </Accordion>

    See [Custom Tools](/core-framework/tools/custom-tools/step-by-step-guide) for full patterns.
  </Step>

  <Step title="Define Agent Roles">
    Configure each agent in its module.

    **`worker/worker.py`:**

    ```python
    from agency_swarm import Agent

    worker = Agent(
        name="Worker",
        description="Responsible for executing tasks.",
        model="gpt-5.2",
        instructions="./instructions.md",
        tools_folder="./tools",
        files_folder="./files",
        schemas_folder="./schemas",
    )
    ```

    <Accordion title="Optional: explicit tool imports and model settings" defaultOpen={false}>
      ```python
      from agency_swarm import Agent, ModelSettings, Reasoning
      from worker.tools.search_database import search_database

      worker = Agent(
          name="Worker",
          model="gpt-5.2",
          instructions="./instructions.md",
          tools=[search_database],
          model_settings=ModelSettings(
              reasoning=Reasoning(effort="medium"),
          ),
      )
      ```
    </Accordion>

    **`worker/instructions.md`:**

    ```md
    You are a Worker agent responsible for executing tasks.

    # Role
    Execute tasks clearly and report tradeoffs.
    ```
  </Step>

  <Step title="Create Agency">
    Import agents and initialize the Agency with `ceo` as the entry point.

    **`agency.py`:**

    ```python
    from agency_swarm import Agency
    from ceo.ceo import ceo
    from worker.worker import worker

    agency = Agency(
        ceo,
        communication_flows=[ceo > worker],
        shared_instructions="./agency_manifesto.md",
    )
    ```

    The first positional argument is the entry-point agent. Communication flows are directional, so `ceo > worker` means CEO can initiate messages to Worker.

    <Accordion title="More communication flow examples" defaultOpen={false}>
      ```python
      from qa.qa import qa

      agency = Agency(
          ceo,
          communication_flows=[
              ceo > worker,
              ceo > qa,
              worker > qa,
          ],
      )
      ```
    </Accordion>

    See [Communication Flows](/core-framework/agencies/communication-flows) for multi-agent setups.
  </Step>

  <Step title="Run Demo">
    Add one of these to `agency.py`:

    <Tabs>
      <Tab title="Terminal">
        ```python
        agency.terminal_demo()
        ```
      </Tab>
      <Tab title="Backend (Sync)">
        ```python
        result = agency.get_response_sync("Hello!")
        print(result.final_output)
        ```
      </Tab>
      <Tab title="Backend (Async)">
        ```python
        import asyncio

        async def main():
            result = await agency.get_response("Hello!")
            print(result.final_output)

        asyncio.run(main())
        ```
      </Tab>
    </Tabs>

    For a web UI demo, see `agency.copilot_demo()` in [Visualization](/core-framework/agencies/visualization).
  </Step>
</Steps>

## Next Steps
- Learn the core concepts: [Tools Overview](/core-framework/tools/overview), [Agents Overview](/core-framework/agents/overview), and [Agencies Overview](/core-framework/agencies/overview).
- Run your first end-to-end flow with [Running an Agency](/core-framework/agencies/running-agency).
- Deploy your project with [Deployment to Production](/additional-features/deployment-to-production).
